SimpleCnn(
  (conv1): Conv2d(28, 16, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1))
  (conv2): Conv2d(16, 32, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1))
  (pool): MaxPool2d(kernel_size=2, stride=2, padding=0, dilation=1, ceil_mode=False)
  (fc1): Linear(in_features=1568, out_features=128, bias=True)
  (fc2): Linear(in_features=128, out_features=10, bias=True)
)

cuda is not avaiable.

==================================================
Algorithm: FedAvg
Local batch size: 10
Local epochs: 1
Local learing rate: 0.005
Local learing rate decay: False
Total number of clients: 20
Clients join in each round: 1.0
Clients randomly join: False
Client drop rate: 0.0
Client select regarding time: False
Running times: 1
Dataset: BloodMNIST
Number of classes: 10
Backbone: resnet18
Using device: cpu
Using DP: False
Auto break: False
Global rounds: 10
DLG attack: False
Total number of new clients: 0
Fine tuning epoches on new clients: 0
==================================================

============= Running time: 0th =============
Creating server and clients ...
x(
  (conv1): Conv2d(28, 64, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
  (bn1): BatchNorm2d(64, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
  (layer1): Sequential(
    (0): a(
      (conv1): Conv2d(64, 64, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
      (bn1): BatchNorm2d(64, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      (conv2): Conv2d(64, 64, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
      (bn2): BatchNorm2d(64, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      (shortcut): Sequential()
    )
    (1): a(
      (conv1): Conv2d(64, 64, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
      (bn1): BatchNorm2d(64, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      (conv2): Conv2d(64, 64, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
      (bn2): BatchNorm2d(64, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      (shortcut): Sequential()
    )
  )
  (layer2): Sequential(
    (0): a(
      (conv1): Conv2d(64, 128, kernel_size=(3, 3), stride=(2, 2), padding=(1, 1), bias=False)
      (bn1): BatchNorm2d(128, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      (conv2): Conv2d(128, 128, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
      (bn2): BatchNorm2d(128, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      (shortcut): Sequential(
        (0): Conv2d(64, 128, kernel_size=(1, 1), stride=(2, 2), bias=False)
        (1): BatchNorm2d(128, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      )
    )
    (1): a(
      (conv1): Conv2d(128, 128, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
      (bn1): BatchNorm2d(128, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      (conv2): Conv2d(128, 128, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
      (bn2): BatchNorm2d(128, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      (shortcut): Sequential()
    )
  )
  (layer3): Sequential(
    (0): a(
      (conv1): Conv2d(128, 256, kernel_size=(3, 3), stride=(2, 2), padding=(1, 1), bias=False)
      (bn1): BatchNorm2d(256, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      (conv2): Conv2d(256, 256, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
      (bn2): BatchNorm2d(256, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      (shortcut): Sequential(
        (0): Conv2d(128, 256, kernel_size=(1, 1), stride=(2, 2), bias=False)
        (1): BatchNorm2d(256, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      )
    )
    (1): a(
      (conv1): Conv2d(256, 256, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
      (bn1): BatchNorm2d(256, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      (conv2): Conv2d(256, 256, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
      (bn2): BatchNorm2d(256, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      (shortcut): Sequential()
    )
  )
  (layer4): Sequential(
    (0): a(
      (conv1): Conv2d(256, 512, kernel_size=(3, 3), stride=(2, 2), padding=(1, 1), bias=False)
      (bn1): BatchNorm2d(512, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      (conv2): Conv2d(512, 512, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
      (bn2): BatchNorm2d(512, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      (shortcut): Sequential(
        (0): Conv2d(256, 512, kernel_size=(1, 1), stride=(2, 2), bias=False)
        (1): BatchNorm2d(512, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      )
    )
    (1): a(
      (conv1): Conv2d(512, 512, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
      (bn1): BatchNorm2d(512, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      (conv2): Conv2d(512, 512, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)
      (bn2): BatchNorm2d(512, eps=1e-05, momentum=0.1, affine=True, track_running_stats=True)
      (shortcut): Sequential()
    )
  )
  (avgpool): AdaptiveAvgPool2d(output_size=(1, 1))
  (linear): Linear(in_features=512, out_features=10, bias=True)
  (fc): Linear(in_features=10, out_features=10, bias=True)
)

Join ratio / total clients: 1.0 / 20
Finished creating server and clients.
Dropped clients for round 0 : []

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 2.2691
Averaged Test Accurancy: 0.0703
Averaged Test AUC: 0.5693
Std Test Accurancy: 0.0527
Std Test AUC: 0.0483
Clients: 20
Training client: 5, Time Cost: 34.274696588516235, Train Accuracy: 20.00%
Training client: 6, Time Cost: 47.1144323348999, Train Accuracy: 24.74%
Training client: 18, Time Cost: 56.919567823410034, Train Accuracy: 38.33%
Training client: 9, Time Cost: 57.82055950164795, Train Accuracy: 28.75%
Training client: 0, Time Cost: 61.07426905632019, Train Accuracy: 22.31%
Training client: 7, Time Cost: 65.07459449768066, Train Accuracy: 23.57%
Training client: 1, Time Cost: 66.07767176628113, Train Accuracy: 33.10%
Training client: 4, Time Cost: 68.30375385284424, Train Accuracy: 36.67%
Training client: 8, Time Cost: 68.24853754043579, Train Accuracy: 20.33%
Training client: 16, Time Cost: 68.98277306556702, Train Accuracy: 27.00%
Training client: 14, Time Cost: 69.42436218261719, Train Accuracy: 44.19%
Training client: 12, Time Cost: 69.54149127006531, Train Accuracy: 32.26%
Training client: 3, Time Cost: 70.55576753616333, Train Accuracy: 50.32%
Training client: 17, Time Cost: 73.79224681854248, Train Accuracy: 29.12%
Training client: 11, Time Cost: 73.83747744560242, Train Accuracy: 47.65%
Training client: 10, Time Cost: 73.58411908149719, Train Accuracy: 37.88%
Training client: 2, Time Cost: 77.41160440444946, Train Accuracy: 35.28%
Training client: 13, Time Cost: 77.82945466041565, Train Accuracy: 37.78%
Training client: 15, Time Cost: 81.41165685653687, Train Accuracy: 46.15%
Training client: 19, Time Cost: 155.32363986968994, Train Accuracy: 79.49%
************************* length of uploaded models ************************* 20
Client: 0 Percentage Difference: 62.588013235324524
Client: 1 Percentage Difference: 64.18675106169758
Client: 2 Percentage Difference: 62.66329945240159
Client: 3 Percentage Difference: 63.73594247705796
Client: 4 Percentage Difference: 63.74772538360958
Client: 5 Percentage Difference: 65.20308151999643
Client: 6 Percentage Difference: 64.39707026877386
Client: 7 Percentage Difference: 65.05661925988306
Client: 8 Percentage Difference: 63.47097914025426
Client: 9 Percentage Difference: 62.687478077430114
Client: 10 Percentage Difference: 63.75503454007685
Client: 11 Percentage Difference: 62.27970463764905
Client: 12 Percentage Difference: 63.47714640351114
Client: 13 Percentage Difference: 63.74536368138024
Client: 14 Percentage Difference: 63.39268481831368
Client: 15 Percentage Difference: 62.98918802501703
Client: 16 Percentage Difference: 63.11787428808202
Client: 17 Percentage Difference: 63.474555611423966
Client: 18 Percentage Difference: 62.46746481012906
Client: 19 Percentage Difference: 71.14648452687788
------------------------- Time cost ------------------------- 214.44456720352173
Dropped clients for round 1 : []

-------------Round number: 1-------------

Evaluate global model
Averaged Train Loss: 2.0474
Averaged Test Accurancy: 0.2735
Averaged Test AUC: 0.7559
Std Test Accurancy: 0.1205
Std Test AUC: 0.0440
Clients: 20
Training client: 5, Time Cost: 31.853219270706177, Train Accuracy: 13.85%
Training client: 6, Time Cost: 44.903252601623535, Train Accuracy: 60.53%
Training client: 18, Time Cost: 55.60581946372986, Train Accuracy: 58.33%
Training client: 9, Time Cost: 55.44880390167236, Train Accuracy: 49.17%
Training client: 0, Time Cost: 59.63468313217163, Train Accuracy: 75.00%
Training client: 7, Time Cost: 63.42947220802307, Train Accuracy: 78.93%
Training client: 1, Time Cost: 65.98581528663635, Train Accuracy: 83.45%
Training client: 16, Time Cost: 67.04315972328186, Train Accuracy: 72.33%
Training client: 8, Time Cost: 67.15635657310486, Train Accuracy: 63.67%
Training client: 4, Time Cost: 67.15895104408264, Train Accuracy: 67.33%
Training client: 12, Time Cost: 68.58243179321289, Train Accuracy: 85.16%
Training client: 3, Time Cost: 68.75958776473999, Train Accuracy: 85.16%
Training client: 14, Time Cost: 68.58051252365112, Train Accuracy: 76.45%
Training client: 10, Time Cost: 71.75173473358154, Train Accuracy: 65.15%
Training client: 11, Time Cost: 72.99729776382446, Train Accuracy: 76.76%
Training client: 17, Time Cost: 74.21120405197144, Train Accuracy: 76.47%
Training client: 2, Time Cost: 75.8324966430664, Train Accuracy: 73.06%
Training client: 13, Time Cost: 75.71890354156494, Train Accuracy: 66.11%
Training client: 15, Time Cost: 79.49181485176086, Train Accuracy: 75.13%
Training client: 19, Time Cost: 138.69765162467957, Train Accuracy: 78.99%
************************* length of uploaded models ************************* 20
Client: 0 Percentage Difference: 81.08263515057388
Client: 1 Percentage Difference: 81.65712623662102
Client: 2 Percentage Difference: 81.50698759463921
Client: 3 Percentage Difference: 81.69196701607007
Client: 4 Percentage Difference: 81.27530418897777
Client: 5 Percentage Difference: 81.93409932208624
Client: 6 Percentage Difference: 81.56718285669058
Client: 7 Percentage Difference: 80.90485117610342
Client: 8 Percentage Difference: 80.98469260700085
Client: 9 Percentage Difference: 81.13781039837704
Client: 10 Percentage Difference: 81.3728564946473
Client: 11 Percentage Difference: 81.41637592851794
Client: 12 Percentage Difference: 81.3637927654554
Client: 13 Percentage Difference: 80.93812375885818
Client: 14 Percentage Difference: 80.89935016117806
Client: 15 Percentage Difference: 81.71912758084545
Client: 16 Percentage Difference: 81.562604364467
Client: 17 Percentage Difference: 81.04421101406842
Client: 18 Percentage Difference: 81.16224866213315
Client: 19 Percentage Difference: 84.146317150595
------------------------- Time cost ------------------------- 199.12766790390015
Dropped clients for round 2 : []

-------------Round number: 2-------------

Evaluate global model
Averaged Train Loss: 0.9807
Averaged Test Accurancy: 0.6780
Averaged Test AUC: 0.9376
Std Test Accurancy: 0.2051
Std Test AUC: 0.0540
Clients: 20
Training client: 5, Time Cost: 32.520100593566895, Train Accuracy: 47.69%
Training client: 6, Time Cost: 45.56228518486023, Train Accuracy: 77.89%
Training client: 18, Time Cost: 55.32354116439819, Train Accuracy: 66.67%
Training client: 9, Time Cost: 59.41947293281555, Train Accuracy: 79.17%
Training client: 0, Time Cost: 59.68735957145691, Train Accuracy: 88.46%
Training client: 7, Time Cost: 64.7231433391571, Train Accuracy: 88.93%
Training client: 1, Time Cost: 64.85765433311462, Train Accuracy: 75.86%
Training client: 16, Time Cost: 66.46175837516785, Train Accuracy: 79.67%
Training client: 8, Time Cost: 66.7067322731018, Train Accuracy: 71.33%
Training client: 4, Time Cost: 67.1979455947876, Train Accuracy: 68.00%
Training client: 14, Time Cost: 68.05421352386475, Train Accuracy: 71.29%
Training client: 12, Time Cost: 68.17148232460022, Train Accuracy: 85.81%
Training client: 3, Time Cost: 68.40947556495667, Train Accuracy: 70.00%
Training client: 17, Time Cost: 72.54811549186707, Train Accuracy: 80.29%
Training client: 10, Time Cost: 71.72482013702393, Train Accuracy: 69.70%
Training client: 11, Time Cost: 73.94546627998352, Train Accuracy: 76.18%
Training client: 2, Time Cost: 75.30885314941406, Train Accuracy: 85.28%
Training client: 13, Time Cost: 75.56126666069031, Train Accuracy: 73.89%
Training client: 15, Time Cost: 79.11845278739929, Train Accuracy: 87.44%
Training client: 19, Time Cost: 138.52123379707336, Train Accuracy: 81.13%
************************* length of uploaded models ************************* 20
Client: 0 Percentage Difference: 85.94197716686267
Client: 1 Percentage Difference: 86.20493516954184
Client: 2 Percentage Difference: 85.89233396180589
Client: 3 Percentage Difference: 86.17273108509949
Client: 4 Percentage Difference: 85.8263474720502
Client: 5 Percentage Difference: 86.7058093426806
Client: 6 Percentage Difference: 85.87017776050061
Client: 7 Percentage Difference: 85.9789785412886
Client: 8 Percentage Difference: 86.11967111526155
Client: 9 Percentage Difference: 85.92363612445979
Client: 10 Percentage Difference: 86.16995026995937
Client: 11 Percentage Difference: 85.67686672362811
Client: 12 Percentage Difference: 86.06754289900778
Client: 13 Percentage Difference: 86.18422991495436
Client: 14 Percentage Difference: 85.79931388317164
Client: 15 Percentage Difference: 86.07463620248268
Client: 16 Percentage Difference: 86.07067337734406
Client: 17 Percentage Difference: 86.26308953628268
Client: 18 Percentage Difference: 85.89043932982463
Client: 19 Percentage Difference: 87.87193296713554
------------------------- Time cost ------------------------- 197.1952624320984
Dropped clients for round 3 : []

-------------Round number: 3-------------

Evaluate global model
Averaged Train Loss: 0.6889
Averaged Test Accurancy: 0.7517
Averaged Test AUC: 0.9596
Std Test Accurancy: 0.0939
Std Test AUC: 0.0185
Clients: 20
Training client: 5, Time Cost: 29.499251127243042, Train Accuracy: 78.46%
Training client: 6, Time Cost: 42.358126640319824, Train Accuracy: 90.00%
Training client: 18, Time Cost: 52.775577783584595, Train Accuracy: 94.17%
Training client: 9, Time Cost: 53.01010060310364, Train Accuracy: 85.83%
Training client: 0, Time Cost: 56.41402792930603, Train Accuracy: 88.85%
Training client: 7, Time Cost: 60.15393257141113, Train Accuracy: 92.50%
Training client: 1, Time Cost: 61.89669466018677, Train Accuracy: 80.34%
Training client: 8, Time Cost: 63.67977428436279, Train Accuracy: 90.33%
Training client: 4, Time Cost: 64.20418691635132, Train Accuracy: 74.33%
Training client: 12, Time Cost: 65.21224570274353, Train Accuracy: 80.32%
Training client: 3, Time Cost: 65.53954410552979, Train Accuracy: 41.29%
Training client: 16, Time Cost: 65.33113741874695, Train Accuracy: 89.33%
Training client: 14, Time Cost: 66.13836741447449, Train Accuracy: 84.52%
Training client: 17, Time Cost: 69.66165375709534, Train Accuracy: 86.18%
Training client: 11, Time Cost: 69.5093879699707, Train Accuracy: 85.29%
Training client: 10, Time Cost: 69.85818099975586, Train Accuracy: 91.52%
Training client: 13, Time Cost: 72.81554365158081, Train Accuracy: 85.28%
Training client: 2, Time Cost: 72.91723847389221, Train Accuracy: 93.06%
Training client: 15, Time Cost: 76.38018774986267, Train Accuracy: 84.62%
Training client: 19, Time Cost: 134.99029111862183, Train Accuracy: 69.57%
************************* length of uploaded models ************************* 20
Client: 0 Percentage Difference: 88.31123241285468
Client: 1 Percentage Difference: 88.64129765645998
Client: 2 Percentage Difference: 88.50041527892927
Client: 3 Percentage Difference: 88.4636508255312
Client: 4 Percentage Difference: 87.89412046153302
Client: 5 Percentage Difference: 88.64073532062093
Client: 6 Percentage Difference: 88.59233363994576
Client: 7 Percentage Difference: 88.70640865509927
Client: 8 Percentage Difference: 88.17794852964198
Client: 9 Percentage Difference: 88.52602850664653
Client: 10 Percentage Difference: 88.1472785527535
Client: 11 Percentage Difference: 88.2184763233056
Client: 12 Percentage Difference: 88.39490993171353
Client: 13 Percentage Difference: 88.32412205929927
Client: 14 Percentage Difference: 88.26283059136699
Client: 15 Percentage Difference: 88.54222680439534
Client: 16 Percentage Difference: 88.67760433107037
Client: 17 Percentage Difference: 88.41602207245387
Client: 18 Percentage Difference: 88.21032057777529
Client: 19 Percentage Difference: 89.91299150361556
------------------------- Time cost ------------------------- 192.36121153831482
Dropped clients for round 4 : []

-------------Round number: 4-------------

Evaluate global model
Averaged Train Loss: 0.7976
Averaged Test Accurancy: 0.7146
Averaged Test AUC: 0.9504
Std Test Accurancy: 0.1371
Std Test AUC: 0.0353
Clients: 20
Training client: 5, Time Cost: 30.134754419326782, Train Accuracy: 76.15%
Training client: 6, Time Cost: 42.56331658363342, Train Accuracy: 85.79%
Training client: 18, Time Cost: 53.0710768699646, Train Accuracy: 88.33%
Training client: 9, Time Cost: 54.01220703125, Train Accuracy: 89.17%
Training client: 0, Time Cost: 57.859535932540894, Train Accuracy: 90.38%
Training client: 7, Time Cost: 61.10469174385071, Train Accuracy: 87.14%
Training client: 1, Time Cost: 62.009695053100586, Train Accuracy: 86.21%
Training client: 4, Time Cost: 64.19299364089966, Train Accuracy: 88.33%
Training client: 8, Time Cost: 64.07723903656006, Train Accuracy: 39.33%
Training client: 14, Time Cost: 65.2381842136383, Train Accuracy: 89.35%
Training client: 12, Time Cost: 65.45901298522949, Train Accuracy: 68.71%
Training client: 3, Time Cost: 65.99330806732178, Train Accuracy: 93.23%
Training client: 16, Time Cost: 65.70637011528015, Train Accuracy: 91.33%
Training client: 10, Time Cost: 69.52426266670227, Train Accuracy: 83.94%
Training client: 17, Time Cost: 69.94850945472717, Train Accuracy: 87.06%
Training client: 11, Time Cost: 71.31507277488708, Train Accuracy: 87.94%
Training client: 13, Time Cost: 72.60328197479248, Train Accuracy: 85.83%
Training client: 2, Time Cost: 73.07883191108704, Train Accuracy: 91.67%
Training client: 15, Time Cost: 77.22047185897827, Train Accuracy: 84.62%
Training client: 19, Time Cost: 134.88323593139648, Train Accuracy: 87.00%
************************* length of uploaded models ************************* 20
Client: 0 Percentage Difference: 89.38945169696808
Client: 1 Percentage Difference: 89.61451449027322
Client: 2 Percentage Difference: 89.25803937484602
Client: 3 Percentage Difference: 89.36137175096519
Client: 4 Percentage Difference: 89.08489936926003
Client: 5 Percentage Difference: 89.7793696117219
Client: 6 Percentage Difference: 89.59450165250473
Client: 7 Percentage Difference: 89.28900236736581
Client: 8 Percentage Difference: 89.16380005732094
Client: 9 Percentage Difference: 89.34061335887122
Client: 10 Percentage Difference: 88.71789074676144
Client: 11 Percentage Difference: 89.13423701596344
Client: 12 Percentage Difference: 89.44582831547905
Client: 13 Percentage Difference: 89.37591770722406
Client: 14 Percentage Difference: 89.26300564611438
Client: 15 Percentage Difference: 89.23393459884892
Client: 16 Percentage Difference: 89.57830045520723
Client: 17 Percentage Difference: 89.33964847439597
Client: 18 Percentage Difference: 88.84143202993755
Client: 19 Percentage Difference: 90.74424149591778
------------------------- Time cost ------------------------- 193.05517292022705
Dropped clients for round 5 : []

-------------Round number: 5-------------

Evaluate global model
Averaged Train Loss: 0.7644
Averaged Test Accurancy: 0.7423
Averaged Test AUC: 0.9558
Std Test Accurancy: 0.1868
Std Test AUC: 0.0429
Clients: 20
Training client: 5, Time Cost: 28.999330520629883, Train Accuracy: 86.15%
Training client: 6, Time Cost: 42.03589868545532, Train Accuracy: 59.47%
Training client: 9, Time Cost: 52.090442419052124, Train Accuracy: 91.25%
Training client: 18, Time Cost: 52.41982316970825, Train Accuracy: 95.00%
Training client: 0, Time Cost: 55.816219329833984, Train Accuracy: 89.23%
Training client: 7, Time Cost: 59.64469504356384, Train Accuracy: 76.43%
Training client: 1, Time Cost: 61.281413078308105, Train Accuracy: 83.10%
Training client: 8, Time Cost: 63.12017059326172, Train Accuracy: 93.33%
Training client: 4, Time Cost: 63.35675764083862, Train Accuracy: 89.67%
Training client: 16, Time Cost: 64.37018871307373, Train Accuracy: 92.00%
Training client: 12, Time Cost: 65.18677973747253, Train Accuracy: 93.55%
Training client: 14, Time Cost: 64.9138081073761, Train Accuracy: 82.26%
Training client: 3, Time Cost: 65.29334926605225, Train Accuracy: 68.06%
Training client: 10, Time Cost: 67.78194284439087, Train Accuracy: 70.30%
Training client: 17, Time Cost: 69.05015778541565, Train Accuracy: 90.29%
Training client: 11, Time Cost: 70.52586030960083, Train Accuracy: 83.82%
Training client: 13, Time Cost: 71.86585903167725, Train Accuracy: 93.06%
Training client: 2, Time Cost: 72.08053922653198, Train Accuracy: 87.22%
Training client: 15, Time Cost: 75.49029183387756, Train Accuracy: 79.49%
Training client: 19, Time Cost: 133.87787413597107, Train Accuracy: 76.13%
************************* length of uploaded models ************************* 20
Client: 0 Percentage Difference: 90.62912858077539
Client: 1 Percentage Difference: 90.61245362947261
Client: 2 Percentage Difference: 90.79153961380939
Client: 3 Percentage Difference: 90.53466499984211
Client: 4 Percentage Difference: 90.41392924309548
Client: 5 Percentage Difference: 91.00828255164402
Client: 6 Percentage Difference: 90.91244447726012
Client: 7 Percentage Difference: 90.66619130759932
Client: 8 Percentage Difference: 90.62589651215376
Client: 9 Percentage Difference: 90.6150798069234
Client: 10 Percentage Difference: 90.70986118944688
Client: 11 Percentage Difference: 90.67522008101037
Client: 12 Percentage Difference: 90.7436677873875
Client: 13 Percentage Difference: 90.5650153620229
Client: 14 Percentage Difference: 90.49356193036715
Client: 15 Percentage Difference: 90.49514194935
Client: 16 Percentage Difference: 90.7448615225519
Client: 17 Percentage Difference: 90.70988362294088
Client: 18 Percentage Difference: 90.65422216124261
Client: 19 Percentage Difference: 91.98207101215417
------------------------- Time cost ------------------------- 192.4872226715088
Dropped clients for round 6 : []

-------------Round number: 6-------------

Evaluate global model
Averaged Train Loss: 0.5024
Averaged Test Accurancy: 0.8121
Averaged Test AUC: 0.9702
Std Test Accurancy: 0.1013
Std Test AUC: 0.0295
Clients: 20
Training client: 5, Time Cost: 28.862744569778442, Train Accuracy: 94.62%
Training client: 6, Time Cost: 41.73687481880188, Train Accuracy: 88.95%
Training client: 18, Time Cost: 51.498321533203125, Train Accuracy: 93.75%
Training client: 9, Time Cost: 52.78484654426575, Train Accuracy: 80.83%
Training client: 0, Time Cost: 55.70159387588501, Train Accuracy: 81.15%
Training client: 7, Time Cost: 59.11945843696594, Train Accuracy: 93.57%
Training client: 1, Time Cost: 60.8937087059021, Train Accuracy: 90.69%
Training client: 8, Time Cost: 63.451383113861084, Train Accuracy: 84.33%
Training client: 12, Time Cost: 64.35914635658264, Train Accuracy: 95.16%
Training client: 4, Time Cost: 64.350905418396, Train Accuracy: 85.67%
Training client: 14, Time Cost: 64.55404257774353, Train Accuracy: 93.23%
Training client: 3, Time Cost: 65.700275182724, Train Accuracy: 89.68%
Training client: 16, Time Cost: 64.48349452018738, Train Accuracy: 92.67%
Training client: 17, Time Cost: 68.8357183933258, Train Accuracy: 88.24%
Training client: 10, Time Cost: 68.94368076324463, Train Accuracy: 91.82%
Training client: 11, Time Cost: 70.16053366661072, Train Accuracy: 86.18%
Training client: 2, Time Cost: 71.89584732055664, Train Accuracy: 78.33%
Training client: 13, Time Cost: 71.85082006454468, Train Accuracy: 94.44%
Training client: 15, Time Cost: 76.52225685119629, Train Accuracy: 90.51%
Training client: 19, Time Cost: 136.3259859085083, Train Accuracy: 78.41%
************************* length of uploaded models ************************* 20
Client: 0 Percentage Difference: 91.14002146712892
Client: 1 Percentage Difference: 91.28544255079305
Client: 2 Percentage Difference: 91.1829048451068
Client: 3 Percentage Difference: 91.05416179311305
Client: 4 Percentage Difference: 90.95647161923921
Client: 5 Percentage Difference: 91.63896192575294
Client: 6 Percentage Difference: 91.15336420820768
Client: 7 Percentage Difference: 91.2393740669529
Client: 8 Percentage Difference: 90.98391357020432
Client: 9 Percentage Difference: 91.22531384982153
Client: 10 Percentage Difference: 91.1525515882829
Client: 11 Percentage Difference: 91.23579138652076
Client: 12 Percentage Difference: 91.33838850378311
Client: 13 Percentage Difference: 90.92512902871022
Client: 14 Percentage Difference: 90.98468695111137
Client: 15 Percentage Difference: 91.40181856146228
Client: 16 Percentage Difference: 91.30068386129437
Client: 17 Percentage Difference: 91.25548922527855
Client: 18 Percentage Difference: 90.87898645313999
Client: 19 Percentage Difference: 92.44672070552156
------------------------- Time cost ------------------------- 194.20598006248474
Dropped clients for round 7 : []

-------------Round number: 7-------------

Evaluate global model
Averaged Train Loss: 0.5659
Averaged Test Accurancy: 0.7818
Averaged Test AUC: 0.9606
Std Test Accurancy: 0.1045
Std Test AUC: 0.0305
Clients: 20
Training client: 5, Time Cost: 28.987513780593872, Train Accuracy: 89.23%
Training client: 6, Time Cost: 41.71610188484192, Train Accuracy: 94.74%
Training client: 18, Time Cost: 51.724133014678955, Train Accuracy: 92.08%
Training client: 9, Time Cost: 52.465601444244385, Train Accuracy: 86.25%
Training client: 0, Time Cost: 55.94275689125061, Train Accuracy: 95.00%
Training client: 7, Time Cost: 59.46660900115967, Train Accuracy: 88.21%
Training client: 1, Time Cost: 61.0276517868042, Train Accuracy: 83.79%
Training client: 16, Time Cost: 63.47102904319763, Train Accuracy: 93.33%
Training client: 8, Time Cost: 63.200602531433105, Train Accuracy: 90.00%
Training client: 4, Time Cost: 63.5629141330719, Train Accuracy: 92.33%
Training client: 12, Time Cost: 64.37168288230896, Train Accuracy: 94.52%
Training client: 3, Time Cost: 64.60389161109924, Train Accuracy: 93.55%
Training client: 14, Time Cost: 65.86749529838562, Train Accuracy: 80.65%
Training client: 11, Time Cost: 68.81586718559265, Train Accuracy: 88.24%
Training client: 10, Time Cost: 69.00694060325623, Train Accuracy: 91.82%
Training client: 17, Time Cost: 70.07898020744324, Train Accuracy: 74.71%
Training client: 13, Time Cost: 71.9779143333435, Train Accuracy: 88.89%
Training client: 2, Time Cost: 71.83814287185669, Train Accuracy: 93.61%
Training client: 15, Time Cost: 77.29708433151245, Train Accuracy: 75.90%
Training client: 19, Time Cost: 135.40250444412231, Train Accuracy: 89.23%
************************* length of uploaded models ************************* 20
Client: 0 Percentage Difference: 91.68708254965736
Client: 1 Percentage Difference: 91.67736784600606
Client: 2 Percentage Difference: 91.67906269169634
Client: 3 Percentage Difference: 91.94322417741887
Client: 4 Percentage Difference: 91.52623841972627
Client: 5 Percentage Difference: 92.1757272380546
Client: 6 Percentage Difference: 92.03757142630025
Client: 7 Percentage Difference: 91.71646026587723
Client: 8 Percentage Difference: 91.50897292780087
Client: 9 Percentage Difference: 91.65389347655264
Client: 10 Percentage Difference: 91.72497801611144
Client: 11 Percentage Difference: 91.9715255765368
Client: 12 Percentage Difference: 91.64795812171747
Client: 13 Percentage Difference: 91.3786161080111
Client: 14 Percentage Difference: 91.30538283266105
Client: 15 Percentage Difference: 91.58029317509886
Client: 16 Percentage Difference: 92.06316844561684
Client: 17 Percentage Difference: 91.64973165815127
Client: 18 Percentage Difference: 91.50654973102519
Client: 19 Percentage Difference: 92.94014308315468
------------------------- Time cost ------------------------- 193.8141691684723
Dropped clients for round 8 : []

-------------Round number: 8-------------

Evaluate global model
Averaged Train Loss: 0.5953
Averaged Test Accurancy: 0.7867
Averaged Test AUC: 0.9683
Std Test Accurancy: 0.1799
Std Test AUC: 0.0323
Clients: 20
Training client: 5, Time Cost: 29.0691020488739, Train Accuracy: 95.38%
Training client: 6, Time Cost: 41.72071194648743, Train Accuracy: 78.42%
Training client: 18, Time Cost: 52.39865708351135, Train Accuracy: 92.08%
Training client: 9, Time Cost: 51.92310094833374, Train Accuracy: 90.42%
Training client: 0, Time Cost: 55.79341220855713, Train Accuracy: 83.08%
Training client: 7, Time Cost: 59.52354073524475, Train Accuracy: 91.07%
Training client: 1, Time Cost: 61.16612792015076, Train Accuracy: 85.17%
Training client: 4, Time Cost: 62.90562129020691, Train Accuracy: 93.00%
Training client: 8, Time Cost: 62.809587717056274, Train Accuracy: 94.33%
Training client: 16, Time Cost: 63.92839741706848, Train Accuracy: 86.67%
Training client: 12, Time Cost: 64.6999762058258, Train Accuracy: 57.42%
Training client: 3, Time Cost: 64.81337904930115, Train Accuracy: 73.23%
Training client: 14, Time Cost: 64.79680109024048, Train Accuracy: 75.48%
Training client: 10, Time Cost: 67.85284852981567, Train Accuracy: 93.64%
Training client: 17, Time Cost: 69.1136200428009, Train Accuracy: 92.06%
Training client: 11, Time Cost: 69.10448575019836, Train Accuracy: 92.65%
Training client: 13, Time Cost: 71.60631322860718, Train Accuracy: 94.17%
Training client: 2, Time Cost: 71.57259559631348, Train Accuracy: 93.06%
Training client: 15, Time Cost: 75.26167297363281, Train Accuracy: 95.38%
Training client: 19, Time Cost: 135.32795906066895, Train Accuracy: 88.21%
************************* length of uploaded models ************************* 20
Client: 0 Percentage Difference: 92.43644821163457
Client: 1 Percentage Difference: 92.51380609881608
Client: 2 Percentage Difference: 92.12918281050975
Client: 3 Percentage Difference: 92.64758881578246
Client: 4 Percentage Difference: 92.20570241445785
Client: 5 Percentage Difference: 92.76171233195214
Client: 6 Percentage Difference: 92.57580439946196
Client: 7 Percentage Difference: 92.44640254227079
Client: 8 Percentage Difference: 92.33356764176506
Client: 9 Percentage Difference: 92.15520403791402
Client: 10 Percentage Difference: 92.19493817216744
Client: 11 Percentage Difference: 92.43636694309316
Client: 12 Percentage Difference: 92.1188953693104
Client: 13 Percentage Difference: 92.22239644207093
Client: 14 Percentage Difference: 92.42074187854428
Client: 15 Percentage Difference: 92.41371553837894
Client: 16 Percentage Difference: 92.45341010841344
Client: 17 Percentage Difference: 92.2488841537529
Client: 18 Percentage Difference: 91.86084906426686
Client: 19 Percentage Difference: 93.51403233952169
------------------------- Time cost ------------------------- 193.87809324264526
Dropped clients for round 9 : []

-------------Round number: 9-------------

Evaluate global model
Averaged Train Loss: 0.4234
Averaged Test Accurancy: 0.8238
Averaged Test AUC: 0.9757
Std Test Accurancy: 0.0824
Std Test AUC: 0.0140
Clients: 20
Training client: 5, Time Cost: 29.01513695716858, Train Accuracy: 80.77%
Training client: 6, Time Cost: 41.85431790351868, Train Accuracy: 90.53%
Training client: 18, Time Cost: 51.76664066314697, Train Accuracy: 90.42%
Training client: 9, Time Cost: 53.01807641983032, Train Accuracy: 94.17%
Training client: 0, Time Cost: 55.85983180999756, Train Accuracy: 95.00%
Training client: 7, Time Cost: 59.75150918960571, Train Accuracy: 93.93%
Training client: 1, Time Cost: 61.69364953041077, Train Accuracy: 91.03%
Training client: 8, Time Cost: 63.26002287864685, Train Accuracy: 91.33%
Training client: 4, Time Cost: 64.19914197921753, Train Accuracy: 95.00%
Training client: 16, Time Cost: 64.47224807739258, Train Accuracy: 92.67%
Training client: 14, Time Cost: 66.27884435653687, Train Accuracy: 93.87%
Training client: 12, Time Cost: 66.22650504112244, Train Accuracy: 94.52%
Training client: 3, Time Cost: 66.6893904209137, Train Accuracy: 85.16%
Training client: 11, Time Cost: 68.99891829490662, Train Accuracy: 93.53%
Training client: 10, Time Cost: 69.13372898101807, Train Accuracy: 88.18%
Training client: 17, Time Cost: 69.21896839141846, Train Accuracy: 89.71%
Training client: 2, Time Cost: 71.85945773124695, Train Accuracy: 91.94%
Training client: 13, Time Cost: 72.66184759140015, Train Accuracy: 94.44%
Training client: 15, Time Cost: 76.7212266921997, Train Accuracy: 94.36%
Training client: 19, Time Cost: 135.0216212272644, Train Accuracy: 91.26%
************************* length of uploaded models ************************* 20
Client: 0 Percentage Difference: 92.57076116945768
Client: 1 Percentage Difference: 92.83694596266514
Client: 2 Percentage Difference: 92.68977815737571
Client: 3 Percentage Difference: 92.75123929738811
Client: 4 Percentage Difference: 92.75521631685137
Client: 5 Percentage Difference: 93.01910780380922
Client: 6 Percentage Difference: 92.74528907911872
Client: 7 Percentage Difference: 92.75461362007036
Client: 8 Percentage Difference: 92.62144529436114
Client: 9 Percentage Difference: 92.55934083130342
Client: 10 Percentage Difference: 92.6042796859349
Client: 11 Percentage Difference: 92.71438397145744
Client: 12 Percentage Difference: 92.54903526804696
Client: 13 Percentage Difference: 92.65378603273575
Client: 14 Percentage Difference: 92.70646862996728
Client: 15 Percentage Difference: 92.44438034365317
Client: 16 Percentage Difference: 92.89679162337734
Client: 17 Percentage Difference: 92.51402416091992
Client: 18 Percentage Difference: 92.31832590723457
Client: 19 Percentage Difference: 93.88422302820345
------------------------- Time cost ------------------------- 195.39048194885254
Dropped clients for round 10 : []

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.4039
Averaged Test Accurancy: 0.8350
Averaged Test AUC: 0.9739
Std Test Accurancy: 0.0688
Std Test AUC: 0.0167
Clients: 20
Training client: 5, Time Cost: 29.658251523971558, Train Accuracy: 96.92%
Training client: 6, Time Cost: 43.07669925689697, Train Accuracy: 91.05%
Training client: 9, Time Cost: 53.37007689476013, Train Accuracy: 89.17%
Training client: 18, Time Cost: 53.72331619262695, Train Accuracy: 89.58%
Training client: 0, Time Cost: 56.92511177062988, Train Accuracy: 90.77%
Training client: 7, Time Cost: 62.28245401382446, Train Accuracy: 90.36%
Training client: 1, Time Cost: 62.31688475608826, Train Accuracy: 83.10%
Training client: 8, Time Cost: 64.20192050933838, Train Accuracy: 88.00%
Training client: 4, Time Cost: 64.72023129463196, Train Accuracy: 95.00%
Training client: 12, Time Cost: 65.81238961219788, Train Accuracy: 95.48%
Training client: 16, Time Cost: 65.82404828071594, Train Accuracy: 96.33%
Training client: 3, Time Cost: 66.29678654670715, Train Accuracy: 94.52%
Training client: 14, Time Cost: 67.22022342681885, Train Accuracy: 87.42%
Training client: 10, Time Cost: 69.54006385803223, Train Accuracy: 94.24%
Training client: 17, Time Cost: 70.27435302734375, Train Accuracy: 90.00%
Training client: 11, Time Cost: 70.50422859191895, Train Accuracy: 95.88%
Training client: 2, Time Cost: 73.38801527023315, Train Accuracy: 93.89%
Training client: 13, Time Cost: 73.90002512931824, Train Accuracy: 89.17%
Training client: 15, Time Cost: 76.58786416053772, Train Accuracy: 91.28%
Training client: 19, Time Cost: 135.27331590652466, Train Accuracy: 87.95%
************************* length of uploaded models ************************* 20
Client: 0 Percentage Difference: 93.16962807563982
Client: 1 Percentage Difference: 93.35979062319666
Client: 2 Percentage Difference: 93.4368759973097
Client: 3 Percentage Difference: 93.15992736266594
Client: 4 Percentage Difference: 93.0006532434561
Client: 5 Percentage Difference: 93.70544064664159
Client: 6 Percentage Difference: 93.54416282118336
Client: 7 Percentage Difference: 92.99914335497306
Client: 8 Percentage Difference: 93.42388558454218
Client: 9 Percentage Difference: 93.08973294159841
Client: 10 Percentage Difference: 93.28881683071586
Client: 11 Percentage Difference: 93.17269287082013
Client: 12 Percentage Difference: 93.03381495857366
Client: 13 Percentage Difference: 93.03334752117962
Client: 14 Percentage Difference: 93.09495005787198
Client: 15 Percentage Difference: 93.29524491699885
Client: 16 Percentage Difference: 93.69824183797846
Client: 17 Percentage Difference: 93.22238034013708
Client: 18 Percentage Difference: 93.00476821532015
Client: 19 Percentage Difference: 94.37482823473147
------------------------- Time cost ------------------------- 195.81115770339966

Best accuracy.
0.8349766476388168

Average time cost per round.
194.73264195919037
File path: ../results/BloodMNIST_FedAvg_test_0.h5
Traceback (most recent call last):
  File "C:\Users\Bobby\PFLlib\system\main.py", line 548, in <module>
    run(args)
  File "C:\Users\Bobby\PFLlib\system\main.py", line 374, in run
    server.train()
  File "C:\Users\Bobby\PFLlib\system\flcore\servers\serveravg.py", line 161, in train
    self.save_global_model()
  File "C:\Users\Bobby\PFLlib\system\flcore\servers\serverbase.py", line 182, in save_global_model
    torch.save(self.global_model, model_path)
  File "E:\Learning\new\Lib\site-packages\torch\serialization.py", line 850, in save
    _save(
  File "E:\Learning\new\Lib\site-packages\torch\serialization.py", line 1088, in _save
    pickler.dump(obj)
AttributeError: Can't pickle local object 'TorchHistory.add_log_parameters_hook.<locals>.<lambda>'
